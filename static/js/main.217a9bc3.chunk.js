(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{30:function(t,e,a){},31:function(t,e,a){},32:function(t,e,a){},42:function(t,e,a){},44:function(t,e,a){},45:function(t,e,a){},46:function(t,e,a){},47:function(t,e,a){},48:function(t,e,a){},49:function(t,e,a){"use strict";a.r(e);var n=a(1),s=a.n(n),r=a(23),c=a.n(r),i=(a(30),a(22)),l=a(8),o=a(9),h=a(7),u=a(11),d=a(10),j=a(2),b=a(12),O=(a(31),a(32),a(0)),f=function(){return Object(O.jsxs)("header",{className:"header",children:[Object(O.jsx)("h1",{children:"RESTy"}),Object(O.jsx)("nav",{children:Object(O.jsx)("div",{className:"na",children:Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{children:Object(O.jsx)(b.b,{to:"/",children:"Home"})}),Object(O.jsx)("li",{children:Object(O.jsx)(b.b,{to:"/history",children:"History"})}),Object(O.jsx)("li",{children:Object(O.jsx)(b.b,{to:"/help",children:"Help"})})]})})})]})},p=(a(42),function(){return Object(O.jsx)("footer",{className:"footer",children:"\xa9 2018 Code Fellows"})}),x=a(15),m=a.n(x),y=a(25),v=a(20),g=(a(44),function(t){return t.condition?t.children:null});a(45);var H=function(){return Object(O.jsx)("div",{className:"loader"})},S=function(t){Object(u.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(l.a)(this,a),(n=e.call(this,t)).handleUrl=function(t){var e=t.target.value;n.setState({url:e})},n.handleClick=function(t){var e=n.state.url;n.setState({url:e})},n.handleMethod=function(t){var e=t.target.value;n.setState({method:e})},n.handleSubmit=function(){var t=Object(v.a)(m.a.mark((function t(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),setTimeout(Object(v.a)(m.a.mark((function t(){var a,s,r,c,i,l,o,h,u,d,j,b;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.props.methodH||!n.props.urlH){t.next=12;break}if(s=n.props.methodH,r=n.props.urlH,!n.props.bodyH){t.next=9;break}return t.next=6,JSON.stringify(n.props.bodyH);case 6:c=t.sent,t.next=10;break;case 9:c=e.target.body.value;case 10:t.next=15;break;case 12:s=n.state.method,r=n.state.url,c=e.target.body.value;case 15:if("Put"!==s&&"Post"!==s){t.next=21;break}return t.next=18,fetch(r,{method:s,body:c,mode:"cors",headers:{"Content-Type":"application/json"}});case 18:a=t.sent,t.next=25;break;case 21:if("Get"!==s&&"Delete"!==s){t.next=25;break}return t.next=24,fetch(r,{method:s});case 24:a=t.sent;case 25:return n.setState({body:c,flag:!n.state.flag}),t.next=28,fetch(r).then((function(t){var e,a=Object(y.a)(t.headers.entries());try{for(a.s();!(e=a.n()).done;){for(var n=e.value,s=n.length,r="",c=0;c<s;c++)c%2===0&&(r=r+n[c]+": "+n[c+1]);return r}}catch(i){a.e(i)}finally{a.f()}}));case 28:return i=t.sent,t.next=31,a.json();case 31:l=t.sent,o=[],l&&(n.setState({results:l,body:c,flag:!n.state.flag}),h="".concat(n.state.method,",").concat(n.state.url,",").concat(c),(u=JSON.parse(localStorage.getItem("request")))&&Object.values(u).map((function(t){o.includes(t)||o.push(t)})),o.includes(h)||(o.push(h),localStorage.setItem("request",JSON.stringify(o)))),d=l.results?l.results:l,j=l.count?l.count:l.length,b=n.state.flag,n.props.handler(d,j,i,o,b);case 38:case"end":return t.stop()}}),t)}))),2e3);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n.toggle=function(){n.setState({flag:!n.state.flag})},n.state={url:"",method:"GET",results:[],body:{},flag:!1},n.handleSubmit=n.handleSubmit.bind(Object(h.a)(n)),n.toggle=n.toggle.bind(Object(h.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){return Object(O.jsxs)("div",{children:[Object(O.jsxs)("form",{onSubmit:this.handleSubmit,className:"form",children:[Object(O.jsx)("label",{htmlFor:"",children:"URL:"}),Object(O.jsx)("input",{id:"input",onChange:this.handleUrl}),Object(O.jsxs)("h4",{children:[this.props.methodH||this.state.method,"  :  ",this.props.urlH||this.state.url," "]}),Object(O.jsx)("button",{type:"submit",onClick:this.handleClick,children:"GO!"}),Object(O.jsx)("textarea",{rows:"4",cols:"40",id:"textarea",name:"body",placeholder:"JSON body"})]}),Object(O.jsx)(g,{condition:this.state.flag,children:Object(O.jsx)(H,{})}),Object(O.jsxs)("div",{className:"buttons",children:[Object(O.jsx)("button",{onClick:this.handleMethod,id:"get",value:"Get",children:"Get"}),Object(O.jsx)("button",{onClick:this.handleMethod,id:"post",value:"Post",children:"Post"}),Object(O.jsx)("button",{onClick:this.handleMethod,id:"put",value:"Put",children:"Put"}),Object(O.jsx)("button",{onClick:this.handleMethod,id:"get",value:"Delete",children:"Delete"})]}),Object(O.jsx)("div",{className:"text",children:Object(O.jsxs)("h3",{children:[this.state.method," ",this.state.url]})})]})}}]),a}(s.a.Component),k=a(21),C=a.n(k),N=(a(46),function(t){Object(u.a)(a,t);var e=Object(d.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return this.props.count>0?Object(O.jsx)(s.a.Fragment,{children:Object(O.jsxs)("div",{className:"result",children:[Object(O.jsxs)("p",{children:["Count:  ",this.props.count]}),Object(O.jsxs)("p",{children:["Headers : ",Object(O.jsx)(C.a,{data:this.props.headers})]}),Object(O.jsxs)("p",{children:["Results : ",Object(O.jsx)(C.a,{data:this.props.results})," "]})]})}):Object(O.jsx)("p",{})}}]),a}(s.a.Component)),w=(a(47),function(t){Object(u.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(l.a)(this,a),(n=e.call(this,t)).historyClickHandler=function(t){t.preventDefault();var e=[],a=JSON.parse(localStorage.getItem("request"));if(a){Object.values(a).map((function(t){e.includes(t)||e.push(t)}));var s=t.target.method.value,r=t.target.url.value,c=t.target.body.value;n.props.after(s,r,c)}},n.historyClickHandler=n.historyClickHandler.bind(Object(h.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){var t=this;return Object(O.jsx)(s.a.Fragment,{children:Object(O.jsx)("ul",{children:this.props.arr.map((function(e){var a,n=e.split(","),r=n[0],c=n[1];if(n[2]&&(a=n[2]),n.length>3)for(var i=3;i<n.length;i++)a+=n[i];return Object(O.jsx)(s.a.Fragment,{children:Object(O.jsxs)("form",{id:"historyForm",onSubmit:t.historyClickHandler,children:[Object(O.jsx)("input",{type:"hidden",value:n[0],name:"method"}),Object(O.jsx)("input",{type:"hidden",value:n[1],name:"url"}),Object(O.jsx)("input",{type:"hidden",value:n[2]+n[3],name:"body"}),Object(O.jsxs)("h4",{className:"his",children:[Object(O.jsx)("button",{type:"submit",children:r})," ",c," , body: ",a]})]})})}))})})}}]),a}(s.a.Component));a(48);var F=function(t){return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"help",children:[Object(O.jsx)("h4",{children:" How to use this website !"}),Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{children:" Input your API Url that you want to get data from. "}),Object(O.jsx)("li",{children:" Choose the HTTP method that you want (Default GET)"}),Object(O.jsx)("li",{children:"Hit Go button."}),Object(O.jsx)("li",{children:"You can see the results and list of recent requests."}),Object(O.jsx)("li",{children:"In History tab you can see a full-detail about your search and you can hit Request again to resend the same request."}),Object(O.jsx)("p",{children:" Done By: As-har Abuhelweh"})]})]})})},D=function(t){Object(u.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(l.a)(this,a),(n=e.call(this,t)).afterSubmitHandler=function(t,e,a){n.setState({method:t,URL:e,body:a})},n.componentDidMount=function(){var t=[],e=JSON.parse(localStorage.getItem("request"));e&&Object.values(e).map((function(e){t.includes(e)||t.push(e)})),n.setState({array:t})},n.state={results:[],count:0,header:"",array:[],method:"",URL:"",body:{},flag:!1},n.handleForm=n.handleForm.bind(Object(h.a)(n)),n.handleHistory=n.handleHistory.bind(Object(h.a)(n)),n}return Object(o.a)(a,[{key:"handleForm",value:function(t,e,a,n,s){this.setState({results:t,count:e,header:a,array:n,flag:s})}},{key:"handleHistory",value:function(t,e){this.setState(Object(i.a)(Object(i.a)({},this.state),{},{array:t,flag:e}))}},{key:"render",value:function(){return Object(O.jsx)(s.a.Fragment,{children:Object(O.jsxs)(b.a,{children:[Object(O.jsx)(f,{}),Object(O.jsx)(j.c,{children:Object(O.jsxs)("main",{children:[Object(O.jsxs)(j.a,{exact:!0,path:"/",children:[Object(O.jsx)(S,{handler:this.handleForm,methodH:this.state.method,urlH:this.state.URL,bodyH:this.state.body,flag:this.state.flag}),Object(O.jsx)(N,{results:this.state.results,count:this.state.count,header:this.state.header}),Object(O.jsx)(w,{historyHandler:this.handleHistory,after:this.afterSubmitHandler,arr:this.state.array,flag:this.state.flag})]}),Object(O.jsx)(j.a,{exact:!0,path:"/history",children:Object(O.jsx)(w,{historyHandler:this.handleHistory,after:this.afterSubmitHandler,arr:this.state.array,flag:this.state.flag})}),Object(O.jsx)(j.a,{exact:!0,path:"/help",children:Object(O.jsx)(F,{})})]})}),Object(O.jsx)(p,{})]})})}}]),a}(s.a.Component);c.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(D,{})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.217a9bc3.chunk.js.map